function render_bug_client_bugs(t,a){var e={};for(row in t){var n=t[row].bug_status;for(status in n)e[status]=status}e=Object.keys(e).sort(function(t,a){return e[t]-e[a]}),console.log("Unique bug status: ",e);var r=[];for(row in t){n=t[row].bug_status;var o={bug_client_name:row};e.forEach(function(t){null==n[t]?o[t]=0:o[t]=n[t]}),r.push(o)}var s=40,l=100,d=80,i=50,c=960-i-l,u=500-s-d;console.log("Converted Data: ",r);var p=d3.scaleBand().rangeRound([0,c],.15).paddingInner(.2).paddingOuter(.2),f=d3.scaleLinear().range([u,0]),g=d3.scaleOrdinal(d3.schemePastel2),m=d3.axisBottom().scale(p),y=d3.axisLeft().scale(f).ticks(10),x=document.getElementById(a);x.innerHTML="";var h=d3.select(x).append("svg").attr("width",c+i+l).attr("height",u+s+d).attr("data-graph",x.id).attr("class","graph_body").append("g").attr("transform","translate("+i+","+s+")");g.domain(d3.keys(r[0]).filter(function(t){return"bug_client_name"!==t})),r.forEach(function(t){var a=0;t.operation=g.domain().map(function(e){return{name:e,y0:a,y1:a+=+t[e]}}),t.count=t.operation[t.operation.length-1].y1,NaN==t.count&&(t.count=0)}),console.log("Converted data after colours: ",r),p.domain(r.map(function(t){return t.bug_client_name})),f.domain([0,d3.max(r,function(t){return t.count})]),h.append("g").attr("class","x axis").attr("transform","translate(0,"+u+")").call(m),h.append("g").attr("class","y axis").call(y).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Count"),h.selectAll(".location").data(r).enter().append("g").attr("class","g").attr("transform",function(t){return"translate("+p(t.bug_client_name)+",0)"}).selectAll("rect").data(function(t){return t.operation}).enter().append("rect").attr("width",p.bandwidth()).attr("y",function(t){return f(t.y1)}).attr("height",function(t){return f(t.y0)-f(t.y1)}).attr("data-value",function(t){return t.y1-t.y0}).style("fill",function(t){return g(t.name)});var v=h.selectAll(".legend").data(g.domain().slice().reverse()).enter().append("g").attr("class","legend").attr("transform",function(t,a){return"translate(0,"+20*a+")"});v.append("rect").attr("x",c+48).attr("width",18).attr("height",18).style("fill",g),v.append("text").attr("x",c+48).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(t){return t}),h.append("text").attr("x",c/2).attr("y",0-s/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text("Bug Client Breakdown"),h.append("text").attr("transform","translate("+c/2+" ,"+(u+s+20)+")").style("text-anchor","middle").text("Bug Client Name"),h.append("text").attr("transform","rotate(-90)").attr("y",0-i).attr("x",0-u/2).attr("dy","1em").style("text-anchor","middle").text("Count of Bugs")}