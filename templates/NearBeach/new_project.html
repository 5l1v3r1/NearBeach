{% extends "./template.html" %}
{% block content %}
<h1>New Project</h1>
{% if groups_count == 0 or organisation_counts == 0 %}
	<p><b>ERROR - </b>the following conditions are  not met;</p>
	<ul>
	{% if groups_count == 0 %}
		<li>Your user is not associated with any groups. Please see your Group Admin User</li>
	{% endif %}
	{% if organisation_counts == 0 %}
		<li>You currently have no organisations in the system. Please create one first.</li>
	{% endif %}
	</ul>
{% else %}
	<form action={% url 'new_project_submit' %} method="post" class="new_project_submit">
		{% csrf_token %}
		<table>
			{{ new_project_form.as_table }}
			
			<tr>
				<td>
					<h4>Project Start Date</h4>
				</td>
				<td>
					<select class="datetimepicker" id="start_date_day">
						{% for day in set_days %}
							<option value="{{ day }}">{{ day }}</option>
						{% endfor %}
					</select> - 
					
					<select class="datetimepicker" id="start_date_month">
						{% for month in set_months %}
							<option value="{{ month }}">{{ month }}</option>
						{% endfor %}
					</select> - 

					<select class="datetimepicker" id="start_date_year">
						{% for year in set_years %}
							<option value="{{ year }}">{{ year }}</option>
						{% endfor %}
					</select>	
				</td>
			</tr>		
			<tr>
				<td>		
					<h4>Project Start Time:</h4>
				</td>
				<td>
					<select class="datetimepicker" id="start_date_hour">
						{% for hour in set_hours %}
							<option value="{{ hour }}">{{ hour }}</option>
						{% endfor %}
					</select>:

					<select class="datetimepicker" id="start_date_minute">
						{% for minute in set_minutes %}
							<option value="{{ minute }}">{{ minute }}</option>
						{% endfor %}
					</select>
					
					<select class="datetimepicker" id="start_date_meridiem">
						{% for meridiem in set_meridiems %}
							<option value="{{ meridiem }}">{{ meridiem }}</option>
						{% endfor %}
					</select>
				</td>
			</tr>
			<tr>
				<td>
					
					<h4>Project Finish Date</h4>
				</td>
				<td>
					<select class="datetimepicker" id="finish_date_day">
						{% for day in set_days %}
							<option value="{{ day }}">{{ day }}</option>
						{% endfor %}
					</select> - 
					
					<select class="datetimepicker" id="finish_date_month">
						{% for month in set_months %}
							<option value="{{ month }}">{{ month }}</option>
						{% endfor %}
					</select> - 

					<select class="datetimepicker" id="finish_date_year">
						{% for year in set_years %}
							<option value="{{ year }}">{{ year }}</option>
						{% endfor %}
					</select>
				</td>	
			</tr>
			<tr>
				<td>
					<h4>Project Finish Time</h4>
				</td>
				<td>
					<select class="datetimepicker" id="finish_date_hour">
						{% for hour in set_hours %}
							<option value="{{ hour }}">{{ hour }}</option>
						{% endfor %}
					</select>:
					
					<select class="datetimepicker" id="finish_date_minute">
						{% for minute in set_minutes %}
							<option value="{{ minute }}">{{ minute }}</option>
						{% endfor %}
					</select>
					
					<select class="datetimepicker" id="finish_date_meridiem">
						{% for meridiem in set_meridiems %}
							<option value="{{ meridiem }}">{{ meridiem }}</option>
						{% endfor %}
					</select>
				</td>
			</tr>
		</table>
		<h2>Assigned to Group(s)</h2>
		<p>Please select the appropriate groups to assign this project to</p>
		<select multiple>
			{% for group_row in groups_results %}
				<option value="{{ group_row.group_id }}">{{ group_row.group_name }}</option>
			{% endfor %}
		</select>
		<p>When finished. Please click the submit button</p>
		<input type="submit" value="Submit New Project"/>
	</form>
{% endif %}
{% endblock %}
