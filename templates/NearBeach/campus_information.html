{% extends "./template.html" %}
{% block content %}
{% load static %}
<script type="text/javascript" src="{% static 'NearBeach/javascript/campus_information.js' %}"></script>

<body onload="on_page_load('{{ campus_results.campus_country_id_id }}', '{{ campus_results.campus_region_id }}')">
	<div class="div_content">
		<div class="div_header">
			<h1>Campus Information - {{ campus_results.campus_nickname }}</h1>
		</div>
		<div class="div_sub_content">
			<form action="{% url 'campus_information' campus_results.id %}" method="post" class="campus_information">
				{% csrf_token %}
				<table>
					<tr class="header">
						<td>Field</td><td>Input</td>
					</tr>
					<tr><td>Organisation Name:</td><td>{{ campus_results.organisations_id }}</td></tr>
					<tr><td>Campus Nickname:</td><td>{{ campus_information_form.campus_nickname }}</td></tr>
					<tr><td>Campus Phone:</td><td>{{ campus_information_form.campus_phone }}</td></tr>
					<tr><td>Campus Fax:</td><td>{{ campus_information_form.campus_fax }}</td></tr>
					<tr><td>Campus Address 1:</td><td>{{ campus_information_form.campus_address1 }}</td></tr>
					<tr><td>Campus Address 2:</td><td>{{ campus_information_form.campus_address2 }}</td></tr>
					<tr><td>Campus Address 3:</td><td>{{ campus_information_form.campus_address3 }}</td></tr>
					<tr><td>Campus Suburb:</td><td>{{ campus_information_form.campus_suburb }}</td></tr>
					<tr><td>Country:</td>
						<td>
							<select id="campus_country_id" name="campus_country_id" onchange="country_changed()" required="True">
								<option value="---------" selected disabled="disabled">---------</option>
								{% for row in countries_results %}
									<option value="{{ row.country_id }}">{{ row.country_name }}</option>
								{% endfor %}
							</select>
					</td></tr>

					<tr><td>Campus {{ campus_results.campus_region_id.region_type }}:</td><td>
						<select id="campus_region_id" name="campus_region_id" required="True">
							<option value="---------" selected disabled="disabled">---------</option>
							{% for row in countries_regions_results %}
								<option value="{{ row.region_id }}" country_id="{{ row.country_id_id }}">{{ row.region_name }}</option>
							{% endfor %}
						</select>
					</td></tr>
				</table>
				<br/>
				<input type="submit" value="Save">
			</form>
		</div>
	</div>
	<br/>
	<div class="div_content">
		<div class="div_header">
			<h2>Campus Contacts</h2>
		</div>
		<div class="div_sub_content">
			{% if add_customers_results %}
				<form action="{% url 'campus_information' campus_results.id %}" method="POST" class="campus_information">
					{% csrf_token %}
					<select name="add_customer_select" id="id_add_customer_select" onchange="enable_disable_add_customer()">
						<option value="---------"> ---------</option>
						{% for row in add_customers_results %}
							<option value="{{ row.customer_id }}">{{ row.customer_first_name }} {{ row.customer_last_name }}</option>
						{% endfor %}
					</select>
					<input type="submit" name="add_customer_submit" value="Add Customer" disabled id="id_add_customer_submit">
				</form>
			{% endif %}
			<br/>
			{% if customer_campus_results %}
				<table>
					<tr class="header"><td>First Name</td><td>Last Name</td><td>Email</td><td>Phone</td><td>Fax</td></tr>
					{% for row in customer_campus_results %}
						<tr>
							<td><a href="{% url 'customers_campus_information' row.id 'CAMP' %}">{{ row.customer_id.customer_first_name }}</td>
							<td>{{ row.customer_id.customer_last_name }}</a></td>
							<td>{{ row.customer_id.customer_email }}</td>
							<td>{{ row.customer_phone }}</td>
							<td>{{ row.customer_fax }}</td>
						</tr>
					{% endfor %}
				</table>
			{% else %}
				<p>There are no customers at this campus</p>
			{% endif %}

		</div>
	</div>


</body>
{% endblock %}
