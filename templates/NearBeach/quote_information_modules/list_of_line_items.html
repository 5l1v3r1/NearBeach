<h4>Products</h4>
{% if product_line_items %}
    <table>
        <tr>
            <td>Product</td>
            <td>Product Note</td>
            <td>Product Price</td>
            <td>Quantity</td>
            <td>Discount</td>
            <td>Tax %</td>
            <td>Tax Amount</td>
            <td>Total</td>
            <td>Delete</td>
        </tr>
        {% for row in product_line_items %}
            <tr>
                <td>{{ row.product_name }}</td>
                <td>{{ row.product_note }}</td>
                <td id="product_price">{{ row.product_price }}</td>
                <td id="product_quantity">{{ row.quantity }}</td>
                <td>
                    {% if row.discount_choice == 'Percentage' %}
                        {{ row.discount_percent }}%
                    {% else %}
                        {{ row.discount_amount }}
                    {% endif %}
                </td>
                <td>
                    {% if row.tax == None %}
                        0.00%
                    {% else %}
                        {{ row.tax }}%</td>
                    {% endif %}
                <td id="product_tax_amount">{{ row.tax_amount }}</td>
                <td id="product_total">{{ row.total }}</td>
                <td><a onclick="delete_line_item({{ row.quotes_products_and_services_id }})" href="javascript:void(0);">Delete</a></td>
        {% endfor %}
        <tr id="product_totals">
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td id=""></td>
            <td></td>
        </tr>
    </table>
{% else %}
    <p>There are no product line items</p>
{% endif %}
<h4>Service</h4>
{% if service_line_items %}
    <table>
        <tr>
            <td>Product</td>
            <td>Product Note</td>
            <td>Service Price</td>
            <td>Discount</td>
            <td>Tax %</td>
            <td>Tax Amount</td>
            <td>Total</td>
            <td>Delete</td>
        </tr>
        {% for row in service_line_items %}
            <tr>
                <td>{{ row.product_name }}</td>
                <td>{{ row.product_note }}</td>
                <td>{{ row.product_price }}</td>
                <td>
                    {% if row.discount_choice == 'Percentage' %}
                        {{ row.discount_percent }}%
                    {% else %}
                        {{ row.discount_amount }}
                    {% endif %}
                </td>
                <td>
                    {% if row.tax == None %}
                        0.00%
                    {% else %}
                        {{ row.tax }}%</td>
                    {% endif %}
                <td>{{ row.tax_amount }}</td>
                <td>{{ row.total }}</td>
                <td><a onclick="delete_line_item({{ row.quotes_products_and_services_id }})" href="javascript:void(0);">Delete</a></td>
        {% endfor %}
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td id="service_total"></td>
            <td></td>
        </tr>
    </table>
{% else %}
    <p>Sorry, there are no services</p>
{% endif %}
<h4>Totals</h4>
<table>
    <tr>
        <td>Product Total</td>
        <td>Service Total</td>
        <td>Total</td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>

<script>
/*
function running_total() {
	/*
	Method
	~~~~~~
	The running total is calculated AFTER ALL data has been created
	to help save server memory for large datasets.

	1.) Get variables and set running total = 0
	2.) LOOP
	3.) Find cost amount and add to running total
	4.) Edit running total spot
	5.) Loop
	6.) Fill out grand total

	var cost_amount = document.getElementsByName("cost_amount");
	var running_total = document.getElementsByName("running_total");
	var grand_total = document.getElementById("grand_total");
	var running_total_amount = 0;

	//The loop
	for(var i = 1; i <= running_total.length; i++) {
		running_total_amount = running_total_amount + Number(cost_amount[i].innerHTML);
		running_total[i-1].innerHTML = running_total_amount;
	}

	grand_total.innerHTML = running_total_amount;
}
 */
function calculate_quote_totals() {

}
</script>